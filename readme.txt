Скрипты разработаны для автоматизации формирования динамической структуры каталогов S с их постоянным заполнением файлами,
формируемыми различными специалистами в рамках различных репозиториев R_i.

Структура формируемого хранилища документов S определяется на основе данных в удалённой БД - DB и размещается на сервере X, на том же севрере, на котором размещен анализируемый 
репозиторий R_i.

Доступ к формируемой структуре файлов предлагается осуществлять с помощью облачного сервиса, устанавливаемого на сервере X и/или Y. Серверы X и Y могут совпадать.
Cледует иметь в виду, что переписывание данных сразу с сервера X на сервер Y неоптимально и приводит к существенному замедлению работы. 

Перезапись данных с сервера X на другой сервер Y следует осуществлять отдельно, например, путём настройки cron.

Для работы скриптов на сервере X, на котором они будут запускаться, от рута следует осуществить следующие настройки.

1. Создать пользователя в облачном сервисе (Nextcloud): files_smart_sorter
2. Для записи данных в каталоги данных облачного сервиса (Nextcloud), доступ к которым имеет локальный пользователь 'apache', следует воспользоваться 
технологией ACL (access control list) (запись будем осуществлять в каталог данных вновь созданного пользователя): 

$(CLOUD_DATA_FILES_ROOT) = owncloud_data
 
    setfacl -m "u:gitlab-runner:x" $(CLOUD_DATA_FILES_ROOT)/
    setfacl -m "u:gitlab-runner:x" $(CLOUD_DATA_FILES_ROOT)/files_smart_sorter
    setfacl -m "u:gitlab-runner:rwx" $(CLOUD_DATA_FILES_ROOT)/files_smart_sorter/files

3. После записи данных, для всех этих данных будет определён владелей и группа: 'gitlab-runner:gitlab-runner'
Такие настройки не позволят получить доступ к этим данным пользователю 'apache', поэтому разработанный python скрипт меняет группу пользователей этих 
файлов на 'apache' от имени 'gitlab-runner'. Для того, чтобы эта операция была разрешена операционной системой следует добавить соответствующее правило в etc/sudoers,
что позволит запустить разработанный скрипт с помощью команды sudo

    gitlab-runner ALL=(root) NOPASSWD: /bin/python3, /bin/chown
    gitlab-runner ALL=(apache) NOPASSWD: /bin/php  