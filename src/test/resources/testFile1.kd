module Main {
    fun main => ::Prelude::println(::Math::factorial(::Prelude::readInt()))
}

module Prelude {
    foreign type Int => "java.math.BigInteger"
    foreign type String => "kotlin.String"

    foreign fun prim_println (value: String) => "kotlin.io.println"
    foreign fun prim_println_0 => "kotlin.io.println"
    foreign fun prim_read_int: Int => "kotlin.io.readInt"

    fun println(value: String) => prim_println(value)
    fun readInt => prim_read_int()
}

module Math {
    foreign type Boolean => "kotlin.Boolean"

    foreign fun eq(self: ::Prelude::Int, b: ::Prelude::Int): Boolean => "kotlin.math.eq"
    foreign fun times(self: ::Prelude::Int, b: ::Prelude::Int): ::Prelude::Int => "kotlin.math.times"
    foreign fun minus(self: ::Prelude::Int, b: ::Prelude::Int): ::Prelude::Int => "kotlin.math.minus"

    fun dec2Self(self) => self - 1 - 1

    fun dec2(x: ::Prelude::Int) => x.dec2Self()

    fun factorial(n) =>
        if n == 0 => 1
        else      => n * factorial(n - 1)
}