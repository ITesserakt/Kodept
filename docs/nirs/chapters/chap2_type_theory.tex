%----------------------------------------------------------
\chapter{Теория типов}
\label{ch:type_theory}
%----------------------------------------------------------

В разделе будет представлена вводная информация о разделе математики, посвященном объектам и их типам.

В математике теорией типов, с одной стороны, является формальное представление \textbf{системы типов}, с другой - альтернативой теории множеств.
Она была создана, в том числе, чтобы разрешить парадокс \textit{наивной теории множеств} - парадокс Рассела. \cite{TheFoundationsOfArithmetic}

Основными объектами теории типов являются \textit{терм}, \textit{тип} и \textit{суждение}.

Терм $x$ - чаще всего элемент языка программирования, будь то переменная, константа, вызов функции и др.
В сущности термы определяются выбранной моделью языка.

Типом $A$ обозначается метка, приписываемая объектам.
Обычно каждому терму соответствует определенный тип - $x: A$.
Типы позволяют строго говорить о возможных действиях над объектом, а также формализовать взаимоотношения между ними.

С помощью суждений можно создавать логические конструкции и \textit{правила вывода}.
Именно благодаря этому теория типов активно применяется в компиляторах в фазе статического анализа программы, как для вывода, так и для проверки соответствия типов.
Более того, согласно изоморфизму Карри-Ховарда (см. таблицу \ref{tab:curry-hovard-iso}), программы могут быть использованы для доказательства логических высказываний, если система типов используемого языка программирования достаточно выразительна.
Такое, например, широко применяется среди таких языков, как \textit{Agda}, \textit{Coq}, \textit{Idris}.

\begin{table}[H]
    \centering
    \caption{Изоморфизм Карри-Ховарда}
    \label{tab:curry-hovard-iso}
    \begin{tabular}{|c|c|}
        \hline
        \textbf{Логическое высказывание} & \textbf{Язык программирования} \\\hline
        Высказывание, $F$, $Q$           & Тип, $A$, $B$                  \\\hline
        Доказательство высказывания $F$  & $x: A$                         \\\hline
        Высказывание доказуемо           & Тип $A$ обитаем                \\\hline
        $F \implies Q$                   & Функция, $A \to B$             \\\hline
        $F \wedge Q$                     & Тип-произведение, $A \times B$ \\\hline
        $F \vee Q$                       & Тип-сумма, $A + B$             \\\hline
        Истина                           & Единичный тип, $\top$          \\\hline
        Ложь                             & Пустой тип, $\bot$             \\\hline
        $\neg F$                         & $A \to \bot$                   \\\hline
    \end{tabular}
\end{table}

Тип $T$ обитаем (англ. inhabitat), если выполняется следующее: $\exists t: \Gamma \vdash t: T$

Наборы суждений образуют предположения (англ. \textit{assumptions}), которые образуют контекст.
Правила вывода записываются следующим образом, например правило подстановки:

\begin{equation}
    \label{eq:judgement_substitution}
    \frac{\Gamma \vdash t: T_1, \Delta \vdash T_1 = T_2}{\Gamma, \Delta \vdash t: T_2}
\end{equation}

Как уже было отмечено ранее, теория типов может быть в той или иной мере применяться в языках программирования.
Правильный выбор системы типов для языка программирования Kodept определит его основные характеристики.

%----------------------------------------------------------

